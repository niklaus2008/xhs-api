
 这里是完整的扫码登录流程。只要操作一次，登录状态就会被持久化保存，之后重启服务也不需要重新扫码。

步骤 1：获取登录二维码
执行这条命令，它会把二维码图片下载并保存为 
xhs_login_qr.png
：

bash
curl -o xhs_login_qr.png "http://localhost:8000/login/qr?url=https://www.xiaohongshu.com/explore"
步骤 2：手机扫码
在 Finder 中打开刚才下载的 
xhs_login_qr.png
 图片。
打开手机上的 小红书 App，点击右上角的“扫一扫”，扫描电脑屏幕上的这张二维码。
手机上确认授权登录。
步骤 3：验证并保存登录态
扫码完成后，立即在终端执行这条命令。它会确认登录是否成功，并把 Cookies 写入硬盘：

bash
curl "http://localhost:8000/login/wait?timeout=120"
成功标志： 如果看到类似 {"status":"success","data":{"cookies_count":...}} 的返回，说明登录成功且 Cookies 已保存。

步骤 4：测试抓取
现在你可以尝试抓取一篇笔记，验证 API 是否工作正常：

bash
curl -X POST "http://localhost:8000/scrape" \
  -H "Content-Type: application/json" \
  -d '{"url":"https://www.xiaohongshu.com/explore/68313bbd0000000021008b0a"}'
如果返回了笔记的标题、文案和图片列表，就大功告成了！


